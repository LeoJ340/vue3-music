import{d as e,V as t,y as a,k as o,o as s,e as l,w as n,Z as i,b as r,m as d,t as u,u as c,aM as p,a as f,H as m,R as w,a6 as h,f as y,aN as g,aO as k,a3 as _,aP as b,Y as x,J as C}from"./index-dc3d111f.js";import{E as v}from"./el-empty-e729f0eb.js";import{D as j}from"./Download-48887c7a.js";const R={style:{display:"flex","justify-content":"space-around"}},I={key:0,style:{color:"#919192"}},z={key:1},D=e({__name:"index",props:{songs:null},setup(e){const D=e,W=t(),{getMyLikedSongIds:L}=W,{myLikedSongIds:M}=a(W),{push:S}=o();function B(e){if(e.noCopyrightRcmd)return;const t=D.songs.findIndex((t=>t.id===e.id));S(D.songs.filter((e=>!e.noCopyrightRcmd)),{replace:!0,starIndex:t,trigger:"doubleClick"})}return(t,a)=>{const o=x,D=C,W=v,S=i;return s(),l(S,{data:e.songs,stripe:"","tooltip-effect":"light","tooltip-options":{placement:"bottom-end"},onRowDblclick:B},{empty:n((e=>[r(W,{description:"暂无音乐"})])),default:n((()=>[r(o,{label:"",width:"50",align:"center"},{default:n((e=>[d("span",null,u(e.$index+1),1)])),_:1}),r(o,{label:"操作",width:"80"},{default:n((e=>[d("div",R,[r(D,{underline:!1,title:(c(M).includes(e.row.id)?"不":"")+"喜欢",onClick:t=>{return a=e.row.id,void((o=!c(M).includes(e.row.id))?b(a,o).then((()=>{_({message:"已添加到我的喜欢",type:"success",duration:1e3,center:!0}),L()})):k.alert("确定将选中歌曲从我的喜欢中删除？","",{confirmButtonText:"确定",center:!0,callback:()=>{_({message:"接口功能异常，操作失败",type:"error",duration:1e3,center:!0})}}));var a,o}},{default:n((()=>[c(M).includes(e.row.id)?(s(),l(c(p),{key:0,theme:"filled",size:"20",fill:"#ec4141",strokeWidth:2})):(s(),l(c(p),{key:1,theme:"outline",size:"20",strokeWidth:2}))])),_:2},1032,["title","onClick"]),r(D,{underline:!1},{default:n((()=>[r(c(j),{theme:"outline",size:"20",strokeWidth:2})])),_:1})])])),_:1}),r(o,{label:"标题","show-overflow-tooltip":!0},{default:n((e=>[d("span",null,u(e.row.name),1),e.row.alia.length?(s(),f("span",I,"（"+u(e.row.alia.join(""))+"）",1)):m("",!0),e.row.noCopyrightRcmd?(s(),f("span",z,"无音源")):m("",!0)])),_:1}),r(o,{label:"歌手","show-overflow-tooltip":!0},{default:n((e=>[r(w,{artists:e.row.ar},null,8,["artists"])])),_:1}),r(o,{label:"专辑","show-overflow-tooltip":!0},{default:n((e=>[r(D,{underline:!1,onClick:t=>c(h)(e.row.al.id)},{default:n((()=>[y(u(e.row.al.name),1)])),_:2},1032,["onClick"])])),_:1}),r(o,{label:"时间",width:"100"},{default:n((e=>[d("span",null,u(c(g)(e.row.dt/1e3)),1)])),_:1})])),_:1},8,["data"])}}});export{D as _};
