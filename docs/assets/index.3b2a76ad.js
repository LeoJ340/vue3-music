import{_ as V,d as A,D as m,ah as C,ai as x,o as i,e as I,w as d,b as p,a4 as a,u as v,ac as M,a as h,F as U,r as N,t as g,au as B,ao as y,an as T,N as z,av as $,aw as R,ax as W,E as j,ay as q,ad as G,ae as H,az as J}from"./index.92e00ce5.js";const E=e=>(G("data-v-06c1bcae"),e=e(),H(),e),K=E(()=>a("div",{class:"header"},[a("h3",null,"\u6536\u85CF\u5230\u6B4C\u5355")],-1)),O=E(()=>a("div",{class:"flex-vertical-center",style:{"margin-left":"10px"}},"\u521B\u5EFA\u4E3A\u65B0\u6B4C\u5355",-1)),Q=["onClick"],X={style:{"margin-left":"10px"}},Y=A({__name:"index",props:{tracks:null},setup(e,{expose:n}){const c=e,u=m(!1),_=C(),{getMyPlayList:F}=_,{myPlayList:f}=x(_);function b(){!f.value.created.length||(u.value=!0)}function w(t){B("add",t,c.tracks).then(()=>{u.value=!1,y({message:"\u5DF2\u6536\u85CF\u5230\u6B4C\u5355",type:"success",duration:1e3,center:!0})})}const r=m(!1);function D(){T.prompt(()=>z($,{modelValue:r.value,label:"\u8BBE\u7F6E\u4E3A\u9690\u79C1\u6B4C\u5355","onUpdate:modelValue":t=>{r.value=t}}),"\u65B0\u5EFA\u6B4C\u5355",{confirmButtonText:"\u521B\u5EFA",showCancelButton:!1,inputPattern:/^[^@#]+$/,inputErrorMessage:"\u6B4C\u5355\u540D\u4E0D\u80FD\u5305\u542B@\u6216#",center:!0,roundButton:!0,draggable:!0}).then(async({value:t})=>{const l=await R(t,r.value);B("add",l,c.tracks).then(()=>{u.value=!1,y({message:"\u5DF2\u6536\u85CF\u5230\u6B4C\u5355",type:"success",duration:1e3,center:!0}),F()})}).catch(()=>{})}return n({show:b,tracks:c.tracks}),(t,l)=>{const P=W,S=j,L=q;return i(),I(L,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=s=>u.value=s),"custom-class":"to-playlist-dialog",width:"30%",center:"",draggable:""},{header:d(()=>[K]),default:d(()=>[p(S,{"view-style":"height: 70%;"},{default:d(()=>[a("div",{class:"flex add",onClick:D},[p(v(M),{theme:"filled",size:"50",fill:"#ec4141",strokeWidth:1,class:"icon flex-center"}),O]),(i(!0),h(U,null,N(v(f).created,s=>(i(),h("div",{class:"flex playlist",onClick:se=>w(s.id)},[p(P,{src:s.coverImgUrl,fit:"cover"},null,8,["src"]),a("div",X,[a("p",null,g(s.name),1),a("p",null,g(s.trackCount)+"\u9996\u97F3\u4E50",1)])],8,Q))),256))]),_:1})]),_:1},8,["modelValue"])}}});var Z=V(Y,[["__scopeId","data-v-06c1bcae"]]);const k=C(),{toLogin:ee}=k,{hasLogin:ae}=x(k);let o=null;function te(e){o=J(Z,{tracks:e});const n=document.createElement("div");document.body.appendChild(n),o.mount(n)}function oe(e){if(!ae.value){ee();return}o||te(e),o._instance.exposed.show()}export{oe as t};
