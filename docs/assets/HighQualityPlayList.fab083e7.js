import{af as b,b as a,_ as Q,d as V,ai as I,aC as P,D as C,aD as S,I as W,ar as T,a9 as M,aE as $,ax as Z,o as s,e as g,w as i,u as r,E as A,h as U,aF as q,a4 as n,f as m,t as f,a as p,r as E,a5 as G,F as x,aG as L,ag as J,Q as K,R as O}from"./index.92e00ce5.js";import{E as X}from"./el-divider.ef905423.js";import{C as Y}from"./index.0c8dcbb2.js";import{N as ee}from"./index.44474508.js";import"./count.b035295c.js";import"./el-empty.6570f6e4.js";var te=b("filter",!0,function(e){return a("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M6 9L20.4 25.8178V38.4444L27.6 42V25.8178L42 9H6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),ae=b("help",!0,function(e){return a("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M24 44C29.5228 44 34.5228 41.7614 38.1421 38.1421C41.7614 34.5228 44 29.5228 44 24C44 18.4772 41.7614 13.4772 38.1421 9.85786C34.5228 6.23858 29.5228 4 24 4C18.4772 4 13.4772 6.23858 9.85786 9.85786C6.23858 13.4772 4 18.4772 4 24C4 29.5228 6.23858 34.5228 9.85786 38.1421C13.4772 41.7614 18.4772 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),a("path",{d:"M24 28.6248V24.6248C27.3137 24.6248 30 21.9385 30 18.6248C30 15.3111 27.3137 12.6248 24 12.6248C20.6863 12.6248 18 15.3111 18 18.6248",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 37.6248C25.3807 37.6248 26.5 36.5055 26.5 35.1248C26.5 33.7441 25.3807 32.6248 24 32.6248C22.6193 32.6248 21.5 33.7441 21.5 35.1248C21.5 36.5055 22.6193 37.6248 24 37.6248Z",fill:e.colors[2]},null)])});const le={class:"flex justify-between items-center"},oe={class:"cate-list"},ie=["onClick"],ne={class:"grid-col3"},se={class:"text-12 flex"},re={class:"text-12"},ue=V({__name:"HighQualityPlayList",setup(e){const{currentTheme:B}=I(P()),u=C(!1),y=C([]);S().then(l=>{u.value=!1,y.value=l}).catch(l=>{l==="\u7F51\u7EDC\u5F02\u5E38"&&(u.value=!0)});const F=U(),c=C(F.query.cat||"\u5168\u90E8"),z=50,d=W([]);function k(l){q({cat:c.value,limit:z,before:l}).then(o=>{u.value=!1,d.push(...o.playlists)}).catch(o=>{o==="\u7F51\u7EDC\u5F02\u5E38"&&(u.value=!0)})}k();function w(l){l!==c.value&&(d.length=0,c.value=l,k())}const h=C(null);function D(l){var o;if(!!h.value&&h.value.wrapRef.scrollHeight<=l.scrollTop+((o=h.value)==null?void 0:o.wrapRef.offsetHeight)){const _=d[d.length-1].updateTime;k(_)}}return(l,o)=>{const _=T,H=M,R=X,j=$,N=Z;return s(),g(r(A),{ref_key:"scrollbarRef",ref:h,"view-style":"padding: 0 20px;",onScroll:D},{default:i(()=>[n("header",le,[n("h3",null,[m("\u7CBE\u54C1\u6B4C\u5355"),a(_,{href:"https://music.163.com/#/topic?id=202001",target:"_blank",underline:!1,title:"\u5982\u4F55\u6210\u4E3A\u7CBE\u54C1\u6B4C\u5355\uFF1F"},{default:i(()=>[a(r(ae),{theme:"outline",size:"18",strokeWidth:3})]),_:1})]),a(j,{placement:"bottom-start",width:"600",trigger:"click",effect:r(B)==="dark"?"dark":"light"},{reference:i(()=>[a(H,{round:""},{default:i(()=>[a(r(te),{theme:"outline",size:"16",strokeWidth:3}),m(f(c.value),1)]),_:1})]),default:i(()=>[n("div",{class:"all-cate",onClick:o[0]||(o[0]=t=>w("\u5168\u90E8"))},"\u5168\u90E8\u6B4C\u5355"),a(R),n("div",oe,[(s(!0),p(x,null,E(y.value,t=>(s(),p("div",{class:G(["cate-item",{active:t.name===c.value}]),onClick:v=>w(t.name)},f(t.name),11,ie))),256))])]),_:1},8,["effect"])]),n("div",ne,[(s(!0),p(x,null,E(d,t=>(s(),g(Y,{mode:"horizontal","image-url":t.coverImgUrl,"image-size":"200px","play-count":t.playCount,"icon-placement":"bottom-right","icon-transition":"el-fade-in-linear",onClick:v=>r(L)(t.id)},{default:i(()=>{var v;return[a(_,{underline:!1,onClick:ce=>r(L)(t.id)},{default:i(()=>[m(f(t.name),1)]),_:2},1032,["onClick"]),n("p",se,[m(" by "+f(t.creator.nickname)+" ",1),t.creator.avatarDetail?(s(),g(N,{key:0,src:(v=t.creator.avatarDetail)==null?void 0:v.identityIconUrl,style:{"margin-left":"2px",width:"15px"}},null,8,["src"])):J("",!0)]),n("p",re,f(t.copywriter),1)]}),_:2},1032,["image-url","play-count","onClick"]))),256))]),K(a(ee,null,null,512),[[O,u.value]])]),_:1},512)}}});var me=Q(ue,[["__scopeId","data-v-895bc8b0"]]);export{me as default};
