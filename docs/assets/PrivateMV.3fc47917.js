import{d as R,D as s,aH as V,ar as x,aI as B,o as u,e as m,w as c,u as L,E as N,a4 as p,a as y,r as F,Q as f,R as g,b as h,f as H,t as S,F as b}from"./index.92e00ce5.js";import{C as M}from"./index.0c8dcbb2.js";import{N as T}from"./index.44474508.js";import{g as $}from"./mv.3d540383.js";import"./count.b035295c.js";import"./el-empty.6570f6e4.js";const P=p("h3",null,"\u72EC\u5BB6\u64AD\u653E",-1),A={class:"grid-col3"},I={"element-loading-text":"\u8F7D\u5165\u4E2D..."},K=R({__name:"PrivateMV",setup(Q){const v=s([]),w=30;let n=1;const r=s(!1),t=s(!1);function d(){r.value=!0,$(w,n).then(e=>{t.value=!1,v.value.push(...e)}).catch(e=>{e==="\u7F51\u7EDC\u5F02\u5E38"?t.value=!0:n--}).finally(()=>{r.value=!1})}d();const a=s(null);function k(e){var i,l;!a.value||(console.log(a.value.wrapRef.scrollHeight),console.log(e.scrollTop+((i=a.value)==null?void 0:i.wrapRef.offsetHeight)),a.value.wrapRef.scrollHeight<=e.scrollTop+((l=a.value)==null?void 0:l.wrapRef.offsetHeight)+10&&(n++,d()))}const C=V();function _(e){C.push(`/mv/${e}`)}return(e,i)=>{const l=x,E=B;return u(),m(L(N),{ref_key:"scrollbarRef",ref:a,"view-style":"padding: 0 20px;",onScroll:k},{default:c(()=>[P,p("div",A,[(u(!0),y(b,null,F(v.value,o=>f((u(),m(M,{mode:"vertical","image-url":o.picUrl,"icon-placement":"top-left","icon-transition":"only-show",onClick:D=>_(o.id)},{default:c(()=>[h(l,{underline:!1,onClick:D=>_(o.id)},{default:c(()=>[H(S(o.name),1)]),_:2},1032,["onClick"])]),_:2},1032,["image-url","onClick"])),[[g,!t.value]])),256)),f(p("div",I,null,512),[[E,r.value]])]),f(h(T,null,null,512),[[g,t.value]])]),_:1},512)}}});export{K as default};
