import{aG as me,Z as $e,bd as Ee,z as fe,aN as Ae,D as B,c as j,u as e,be as ue,J as D,L as pe,a0 as ze,M as Le,K as Pe,V as Ve,S as he,d as X,j as ge,o as h,a as A,a4 as g,e as U,w as $,Q as q,a5 as V,aB as J,b as E,O as ce,b5 as Oe,R as x,T as de,ah as K,H as Re,k as _e,am as oe,F,r as Q,t as R,n as ye,B as Ue,I as Ce,bf as je,bg as He,a6 as De,a7 as Fe,_ as Ke,a8 as We,ap as Ge,b9 as Je,bh as Qe,as as Xe,i as Ye,f as ae,bi as se,at as Ze,bj as qe,aj as xe,ak as et}from"./index.de62e014.js";import{C as Z}from"./index.08cdbd7f.js";import{g as tt,a as at,C as st,b as ot,c as nt}from"./recommend.714e3008.js";import{u as lt}from"./typeFormate.f6de6737.js";import"./count.b035295c.js";const Ie=Symbol("carouselContextKey"),rt=(r,_,i)=>$e(r.subTree).filter(d=>{var a;return Ee(d)&&((a=d.type)==null?void 0:a.name)===_&&!!d.component}).map(d=>d.component.uid).map(d=>i[d]).filter(d=>!!d),it=(r,_)=>{const i={},s=me([]);return{children:s,addChild:a=>{i[a.uid]=a,s.value=rt(r,_,i)},removeChild:a=>{delete i[a],s.value=s.value.filter(f=>f.uid!==a)}}},ut=fe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),ct={change:(r,_)=>[r,_].every(Ae)},ve=300,dt=(r,_,i)=>{const{children:s,addChild:w,removeChild:d}=it(he(),"ElCarouselItem"),a=B(-1),f=B(null),k=B(!1),b=B(),N=j(()=>r.arrow!=="never"&&!e(M)),T=j(()=>s.value.some(l=>l.props.label.toString().length>0)),S=j(()=>r.type==="card"),M=j(()=>r.direction==="vertical"),z=ue(l=>{n(l)},ve,{trailing:!0}),o=ue(l=>{H(l)},ve);function m(){f.value&&(clearInterval(f.value),f.value=null)}function y(){r.interval<=0||!r.autoplay||f.value||(f.value=setInterval(()=>O(),r.interval))}const O=()=>{a.value<s.value.length-1?a.value=a.value+1:r.loop&&(a.value=0)};function n(l){if(Ve(l)){const W=s.value.filter(Y=>Y.props.name===l);W.length>0&&(l=s.value.indexOf(W[0]))}if(l=Number(l),Number.isNaN(l)||l!==Math.floor(l))return;const I=s.value.length,P=a.value;l<0?a.value=r.loop?I-1:0:l>=I?a.value=r.loop?0:I-1:a.value=l,P===a.value&&u(P),ne()}function u(l){s.value.forEach((I,P)=>{I.translateItem(P,a.value,l)})}function t(l,I){var P,W,Y,le;const G=e(s),re=G.length;if(re===0||!l.states.inStage)return!1;const Se=I+1,we=I-1,ie=re-1,Te=G[ie].states.active,Be=G[0].states.active,Me=(W=(P=G[Se])==null?void 0:P.states)==null?void 0:W.active,Ne=(le=(Y=G[we])==null?void 0:Y.states)==null?void 0:le.active;return I===ie&&Be||Me?"left":I===0&&Te||Ne?"right":!1}function c(){k.value=!0,r.pauseOnHover&&m()}function L(){k.value=!1,y()}function p(l){e(M)||s.value.forEach((I,P)=>{l===t(I,P)&&(I.states.hover=!0)})}function v(){e(M)||s.value.forEach(l=>{l.states.hover=!1})}function C(l){a.value=l}function H(l){r.trigger==="hover"&&l!==a.value&&(a.value=l)}function ee(){n(a.value-1)}function be(){n(a.value+1)}function ne(){m(),y()}D(()=>a.value,(l,I)=>{u(I),I>-1&&_("change",l,I)}),D(()=>r.autoplay,l=>{l?y():m()}),D(()=>r.loop,()=>{n(a.value)}),D(()=>r.interval,()=>{ne()}),D(()=>s.value,()=>{s.value.length>0&&n(r.initialIndex)});const te=me();return pe(()=>{te.value=ze(b.value,()=>{u()}),y()}),Le(()=>{m(),b.value&&te.value&&te.value.stop()}),Pe(Ie,{root:b,isCardType:S,isVertical:M,items:s,loop:r.loop,addItem:w,removeItem:d,setActiveItem:n}),{root:b,activeIndex:a,arrowDisplay:N,hasLabel:T,hover:k,isCardType:S,items:s,handleButtonEnter:p,handleButtonLeave:v,handleIndicatorClick:C,handleMouseEnter:c,handleMouseLeave:L,setActiveItem:n,prev:ee,next:be,throttledArrowClick:z,throttledIndicatorHover:o}},vt=["onMouseenter","onClick"],mt={key:0},ft="ElCarousel",pt=X({name:ft}),ht=X({...pt,props:ut,emits:ct,setup(r,{expose:_,emit:i}){const s=r,{root:w,activeIndex:d,arrowDisplay:a,hasLabel:f,hover:k,isCardType:b,items:N,handleButtonEnter:T,handleButtonLeave:S,handleIndicatorClick:M,handleMouseEnter:z,handleMouseLeave:o,setActiveItem:m,prev:y,next:O,throttledArrowClick:n,throttledIndicatorHover:u}=dt(s,i),t=ge("carousel"),c=j(()=>{const p=[t.b(),t.m(s.direction)];return e(b)&&p.push(t.m("card")),p}),L=j(()=>{const p=[t.e("indicators"),t.em("indicators",s.direction)];return e(f)&&p.push(t.em("indicators","labels")),(s.indicatorPosition==="outside"||e(b))&&p.push(t.em("indicators","outside")),p});return _({setActiveItem:m,prev:y,next:O}),(p,v)=>(h(),A("div",{ref_key:"root",ref:w,class:V(e(c)),onMouseenter:v[6]||(v[6]=J((...C)=>e(z)&&e(z)(...C),["stop"])),onMouseleave:v[7]||(v[7]=J((...C)=>e(o)&&e(o)(...C),["stop"]))},[g("div",{class:V(e(t).e("container")),style:oe({height:p.height})},[e(a)?(h(),U(de,{key:0,name:"carousel-arrow-left",persisted:""},{default:$(()=>[q(g("button",{type:"button",class:V([e(t).e("arrow"),e(t).em("arrow","left")]),onMouseenter:v[0]||(v[0]=C=>e(T)("left")),onMouseleave:v[1]||(v[1]=(...C)=>e(S)&&e(S)(...C)),onClick:v[2]||(v[2]=J(C=>e(n)(e(d)-1),["stop"]))},[E(e(ce),null,{default:$(()=>[E(e(Oe))]),_:1})],34),[[x,(p.arrow==="always"||e(k))&&(s.loop||e(d)>0)]])]),_:1})):K("v-if",!0),e(a)?(h(),U(de,{key:1,name:"carousel-arrow-right",persisted:""},{default:$(()=>[q(g("button",{type:"button",class:V([e(t).e("arrow"),e(t).em("arrow","right")]),onMouseenter:v[3]||(v[3]=C=>e(T)("right")),onMouseleave:v[4]||(v[4]=(...C)=>e(S)&&e(S)(...C)),onClick:v[5]||(v[5]=J(C=>e(n)(e(d)+1),["stop"]))},[E(e(ce),null,{default:$(()=>[E(e(Re))]),_:1})],34),[[x,(p.arrow==="always"||e(k))&&(s.loop||e(d)<e(N).length-1)]])]),_:1})):K("v-if",!0),_e(p.$slots,"default")],6),p.indicatorPosition!=="none"?(h(),A("ul",{key:0,class:V(e(L))},[(h(!0),A(F,null,Q(e(N),(C,H)=>(h(),A("li",{key:H,class:V([e(t).e("indicator"),e(t).em("indicator",p.direction),e(t).is("active",H===e(d))]),onMouseenter:ee=>e(u)(H),onClick:J(ee=>e(M)(H),["stop"])},[g("button",{class:V(e(t).e("button"))},[e(f)?(h(),A("span",mt,R(C.props.label),1)):K("v-if",!0)],2)],42,vt))),128))],2)):K("v-if",!0)],34))}});var gt=ye(ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const _t=fe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),yt=(r,_)=>{const i=Ue(Ie),s=he(),w=.83,d=B(!1),a=B(0),f=B(1),k=B(!1),b=B(!1),N=B(!1),T=B(!1),{isCardType:S,isVertical:M}=i;function z(n,u,t){const c=t-1,L=u-1,p=u+1,v=t/2;return u===0&&n===c?-1:u===c&&n===0?t:n<L&&u-n>=v?t+1:n>p&&n-u>=v?-2:n}function o(n,u){var t;const c=((t=i.root.value)==null?void 0:t.offsetWidth)||0;return N.value?c*((2-w)*(n-u)+1)/4:n<u?-(1+w)*c/4:(3+w)*c/4}function m(n,u,t){const c=i.root.value;return c?((t?c.offsetHeight:c.offsetWidth)||0)*(n-u):0}const y=(n,u,t)=>{var c;const L=e(S),p=(c=i.items.value.length)!=null?c:Number.NaN,v=n===u;!L&&!He(t)&&(T.value=v||n===t),!v&&p>2&&i.loop&&(n=z(n,u,p));const C=e(M);k.value=v,L?(N.value=Math.round(Math.abs(n-u))<=1,a.value=o(n,u),f.value=e(k)?1:w):a.value=m(n,u,C),b.value=!0};function O(){if(i&&e(S)){const n=i.items.value.findIndex(({uid:u})=>u===s.uid);i.setActiveItem(n)}}return pe(()=>{i.addItem({props:r,states:Ce({hover:d,translate:a,scale:f,active:k,ready:b,inStage:N,animating:T}),uid:s.uid,translateItem:y})}),je(()=>{i.removeItem(s.uid)}),{active:k,animating:T,hover:d,inStage:N,isVertical:M,translate:a,isCardType:S,scale:f,ready:b,handleItemClick:O}},Ct=X({name:"ElCarouselItem"}),It=X({...Ct,props:_t,setup(r){const _=r,i=ge("carousel"),{active:s,animating:w,hover:d,inStage:a,isVertical:f,translate:k,isCardType:b,scale:N,ready:T,handleItemClick:S}=yt(_),M=j(()=>{const o=`${`translate${e(f)?"Y":"X"}`}(${e(k)}px)`,m=`scale(${e(N)})`;return{transform:[o,m].join(" ")}});return(z,o)=>q((h(),A("div",{class:V([e(i).e("item"),e(i).is("active",e(s)),e(i).is("in-stage",e(a)),e(i).is("hover",e(d)),e(i).is("animating",e(w)),{[e(i).em("item","card")]:e(b)}]),style:oe(e(M)),onClick:o[0]||(o[0]=(...m)=>e(S)&&e(S)(...m))},[e(b)?q((h(),A("div",{key:0,class:V(e(i).e("mask"))},null,2)),[[x,!e(s)]]):K("v-if",!0),_e(z.$slots,"default")],6)),[[x,e(T)]])}});var ke=ye(It,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const kt=De(gt,{CarouselItem:ke}),bt=Fe(ke);var St="/vue3-music/assets/dailySongsBg.2d9b6e0f.jpg";const wt=r=>(xe("data-v-090184fa"),r=r(),et(),r),Tt={class:"banner-item"},Bt={class:"flex-vertical-center m-0"},Mt={class:"grid-col5"},Nt=wt(()=>g("div",null,"\u6BCF\u65E5\u6B4C\u66F2\u63A8\u8350",-1)),$t={class:"flex-vertical-center m-0"},Et={class:"grid-col3"},At={class:"text-12"},zt={class:"flex-vertical-center m-0"},Lt={class:"grid-col3"},Pt={class:"text-12"},Vt=X({__name:"Recommend",setup(r){const _=Ze(),{playImmediately:i}=We(),s=B([]);tt().then(o=>{s.value=o});const w=B(0);function d(o){w.value=o}function a(o){const m=s.value.findIndex(y=>y.imageUrl===o.imageUrl);w.value===m&&(o.targetType===1?qe([o.targetId]).then(y=>{i(y)}):o.targetType===10?_.push(`/playlist/${o.targetId}`):window.open(o.url,"_blank"))}const f=B([]),{hasLogin:k}=Ge(Je());D(k,o=>{o?ot().then(m=>{f.value=m.slice(0,9)}):nt(10).then(m=>{f.value=m})},{immediate:!0});function b(o){_.push(`/playlist/${o}`)}function N(){_.push("/dailySongs")}const T=Ce([]);function S(o){const m=T.findIndex(y=>y.id===o);i(lt(T[m]))}Qe(0).then(o=>{T.push(...o.slice(0,12))});const M=B([]);at().then(o=>{M.value=o});function z(o){_.push(`/mv/${o}`)}return(o,m)=>{const y=Xe,O=bt,n=kt,u=Ye("router-link");return h(),A(F,null,[E(n,{interval:4e3,type:"card",height:"220px",onChange:d},{default:$(()=>[(h(!0),A(F,null,Q(s.value,(t,c)=>(h(),U(O,{key:c,onClick:L=>a(t)},{default:$(()=>[g("div",Tt,[E(y,{src:t.imageUrl},null,8,["src"]),g("div",{class:"title",style:oe({backgroundColor:t.titleColor})},R(t.typeTitle),5)])]),_:2},1032,["onClick"]))),128))]),_:1}),E(u,{to:"/discover/playlist",class:"plate-title"},{default:$(()=>[g("h3",Bt,[ae("\u63A8\u8350\u6B4C\u5355"),E(e(se),{theme:"outline",size:"22"})])]),_:1}),g("div",Mt,[e(k)?(h(),U(Z,{key:0,class:"relative daily-songs",mode:"vertical","image-url":e(St),"icon-placement":"bottom-right","icon-transition":"",onClick:N},{default:$(()=>[E(e(st),{theme:"outline",fill:"#ffffff"}),Nt]),_:1},8,["image-url"])):K("",!0),(h(!0),A(F,null,Q(f.value,t=>(h(),U(Z,{mode:"vertical","image-url":t.picUrl,"play-count":t.playCount,"icon-placement":"bottom-right","icon-transition":"",onClick:c=>b(t.id)},{default:$(()=>[g("div",null,R(t.name),1)]),_:2},1032,["image-url","play-count","onClick"]))),256))]),E(u,{to:"/discover/new/songs"},{default:$(()=>[g("h3",$t,[ae("\u6700\u65B0\u97F3\u4E50"),E(e(se),{theme:"outline",size:"22"})])]),_:1}),g("div",Et,[(h(!0),A(F,null,Q(T,t=>(h(),U(Z,{mode:"horizontal","image-url":t.album.picUrl,"image-size":"100px","icon-placement":"center","icon-transition":"",onClick:c=>S(t.id)},{default:$(()=>[g("p",null,R(t.name),1),g("span",At,R(t.artists.map(c=>c.name).join("/")),1)]),_:2},1032,["image-url","onClick"]))),256))]),E(u,{to:"/video/mv"},{default:$(()=>[g("h3",zt,[ae("\u63A8\u8350MV"),E(e(se),{theme:"outline",size:"22"})])]),_:1}),g("div",Lt,[(h(!0),A(F,null,Q(M.value,t=>(h(),U(Z,{mode:"vertical","image-url":t.picUrl,onClick:c=>z(t.id)},{default:$(()=>[g("div",null,R(t.name),1),g("span",Pt,R(t.artists.map(c=>c.name).join("/")),1)]),_:2},1032,["image-url","onClick"]))),256))])],64)}}});var Dt=Ke(Vt,[["__scopeId","data-v-090184fa"]]);export{Dt as default};
