import{d as e,B as a,j as n,M as l,o as t,e as s,w as i,h as r,E as o,m as u,a as c,r as d,D as p,b as v,f as m,t as g,F as f,l as C,v as y,R as x,J as k,N as _,s as h,x as j,_ as b}from"./index-dc3d111f.js";import{E as w}from"./el-select-e38976ba.js";import{C as E}from"./index-570b64c6.js";import{N as M}from"./index-507063c8.js";import{b as S}from"./mv-fcbe85b3.js";import"./count-e681277b.js";import"./el-empty-e729f0eb.js";const z=e=>(h("data-v-4cec028d"),e=e(),j(),e),A=z((()=>u("header",{class:"flex justify-between",style:{margin:"25px 0"}},[u("h3",{class:"flex-vertical-center m-0"},"全部MV")],-1))),B={class:"screening-condition"},N=z((()=>u("span",null,"地区:",-1))),V={class:"screening-condition"},q=z((()=>u("span",null,"类型:",-1))),D={class:"screening-condition"},F=z((()=>u("span",null,"排序:",-1))),I={"element-loading-text":"载入中...",class:"mv-list"},J=b(e({__name:"AllMV",setup(e){const h=["全部","内地","港台","欧美","日本","韩国"],j=["全部","官方版","原声","现场版","网易出品"],b=["上升最快","最热","最新"],z=r(),{area:J,type:R,order:U}=z.query,$=a({area:J?String(J):"全部",type:R?String(R):"全部",order:U?String(U):"最新",limit:50,page:1}),G=n(!1),H=n(!1),K=n([]),L=n(0);function O(){G.value=!0,K.value.length=0,S($).then((e=>{H.value=!1;const{data:a,count:n}=e;n&&(L.value=n),K.value=a})).catch((e=>{"网络异常"===e&&(H.value=!0)})).finally((()=>{G.value=!1}))}function P(e){$.page=e,O()}O();const Q=l();function T(e){Q.push(`/mv/${e}`)}return(e,a)=>{const n=k,l=w,r=o,S=_;return t(),s(r,{"view-style":"padding: 0 20px;"},{default:i((()=>[A,u("div",B,[N,(t(),c(f,null,d(h,(e=>u("span",{class:p(["condition-item",{active:e===$.area}])},[v(n,{underline:!1,onClick:a=>{return n=e,$.page=1,$.area=n,void O();var n}},{default:i((()=>[m(g(e),1)])),_:2},1032,["onClick"])],2))),64))]),u("div",V,[q,(t(),c(f,null,d(j,(e=>u("span",{class:p(["condition-item",{active:e===$.type}])},[v(n,{underline:!1,onClick:a=>{return n=e,$.page=1,$.type=n,void O();var n}},{default:i((()=>[m(g(e),1)])),_:2},1032,["onClick"])],2))),64))]),u("div",D,[F,(t(),c(f,null,d(b,(e=>u("span",{class:p(["condition-item",{active:e===$.order}])},[v(n,{underline:!1,onClick:a=>{return n=e,$.page=1,$.order=n,void O();var n}},{default:i((()=>[m(g(e),1)])),_:2},1032,["onClick"])],2))),64))]),C((t(),c("div",I,[(t(!0),c(f,null,d(K.value,(e=>(t(),s(E,{mode:"vertical","image-url":e.cover,"play-count":e.playCount,onClick:a=>T(e.id)},{default:i((()=>[v(n,{underline:!1,onClick:a=>T(e.id)},{default:i((()=>[m(g(e.name),1)])),_:2},1032,["onClick"]),u("div",null,[v(x,{artists:e.artists},null,8,["artists"])])])),_:2},1032,["image-url","play-count","onClick"])))),256))])),[[y,!H.value],[S,G.value]]),C(v(l,{small:"",background:"",layout:"prev, pager, next","page-size":$.limit,"current-page":$.page,"onUpdate:current-page":a[0]||(a[0]=e=>$.page=e),total:L.value,"hide-on-single-page":L.value<$.limit,onCurrentChange:P},null,8,["page-size","current-page","total","hide-on-single-page"]),[[y,!H.value]]),C(v(M,null,null,512),[[y,H.value]])])),_:1})}}}),[["__scopeId","data-v-4cec028d"]]);export{J as default};
