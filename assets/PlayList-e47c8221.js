import{I as e,b as t,d as o,y as s,z as i,M as l,j as r,B as n,a4 as a,ar as c,o as k,a as d,m as u,a5 as h,w as p,t as v,H as w,l as g,v as m,u as f,F as L,r as j,a$ as C,b0 as y,A as W,L as x,n as M,K as z,N as b,f as V,aZ as _,D as B,e as H,Q as Z,G as I,b1 as E,C as U,J as P,s as $,x as A,_ as N}from"./index-4ff561e7.js";import{E as Q}from"./el-select-3b0dbf60.js";import{E as q}from"./el-divider-114e698e.js";import{C as D}from"./index-480e27a4.js";import{N as F}from"./index-c8b51d2d.js";import"./count-e681277b.js";import"./el-empty-53279bc5.js";const G=e("crown-three",!1,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M13 42H35L41 21L31 26L24 12L17 26L7 21L13 42Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("circle",{cx:"7",cy:"18",r:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth},null),t("circle",{cx:"24",cy:"9",r:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth},null),t("circle",{cx:"41",cy:"18",r:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth},null)])})),J=e("cup",!0,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 49 48",fill:"none"},[t("path",{d:"M8.77783 17.012C8.77783 16.4531 9.23094 16 9.78988 16H33.7658C34.3247 16 34.7778 16.4531 34.7778 17.012V31C34.7778 38.1797 28.9575 44 21.7778 44V44C14.5981 44 8.77783 38.1797 8.77783 31V17.012Z",stroke:e.colors[0],"stroke-width":e.strokeWidth},null),t("rect",{x:"8.77783",y:"23",width:"26",height:"8",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M21.7778 4V10",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M13.7778 6V8",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M29.7778 6V8",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34.7778 34C38.6438 34 41.7778 30.866 41.7778 27C41.7778 23.134 38.6438 20 34.7778 20",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])})),K=e("earth",!1,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M4 24H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44C28.4183 44 32 35.0457 32 24C32 12.9543 28.4183 4 24 4C19.5817 4 16 12.9543 16 24C16 35.0457 19.5817 44 24 44Z",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M9.85791 10.1421C13.4772 13.7614 18.4772 16 24 16C29.5229 16 34.5229 13.7614 38.1422 10.1421",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38.1422 37.8579C34.5229 34.2386 29.5229 32 24 32C18.4772 32 13.4772 34.2386 9.85791 37.8579",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),S=e("grid-two",!1,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M39.3 6H8.7C7.20883 6 6 7.20883 6 8.7V39.3C6 40.7912 7.20883 42 8.7 42H39.3C40.7912 42 42 40.7912 42 39.3V8.7C42 7.20883 40.7912 6 39.3 6Z",stroke:e.colors[0],"stroke-width":e.strokeWidth},null),t("path",{d:"M24 6L24 42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),t("path",{d:"M6 24H42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])})),T=e("piano",!0,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("rect",{x:"4",y:"8",width:"40",height:"16",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("rect",{x:"4",y:"24",width:"40",height:"16",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 24V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M16 24V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M26 24V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 24V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 24V32",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),O=e("slightly-smiling-face",!1,(function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M31 18V19",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M17 18V19",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M31 31C31 31 29 35 24 35C19 35 17 31 17 31",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),R={class:"cover-info"},X={class:"text-12"},Y={class:"flex justify-between items-end",style:{margin:"15px 0"}},ee=(e=>($("data-v-2c91a009"),e=e(),A(),e))((()=>u("div",{style:{margin:"10px"}},"全部歌单",-1))),te={class:"sub-category"},oe={key:0,class:"badge"},se={class:"hot-category"},ie={"element-loading-text":"载入中...",class:"grid-col5"},le=N(o({__name:"PlayList",setup(e){const{currentTheme:o}=s(i()),$=l(),A=r(),N=r("全部歌单"),le=n([{name:"语种",icon:a(K),sub:[],row:3},{name:"风格",icon:a(T),sub:[],row:6},{name:"场景",icon:a(J),sub:[],row:4},{name:"情感",icon:a(O),sub:[],row:4},{name:"主题",icon:a(S),sub:[],row:5}]),re=n({list:[],page:1,size:50,total:0}),ne=r(!1),ae=r(!1),ce=r([]),ke=r([]);function de(){ne.value=!0,E({cat:N.value,limit:re.size,page:re.page}).then((e=>{ae.value=!1;const{playlists:t,total:o}=e;re.total=o,re.list=t})).catch((e=>{"网络异常"===e&&(ae.value=!0)})).finally((()=>{ne.value=!1}))}function ue(){$.push({path:"/highQualityPlayList",query:ke.value.map((e=>e.name)).includes(N.value)?{cat:N.value}:{}})}function he(e){re.page=1,N.value=e,de()}function pe(e){re.page=e,de()}return async function(){var e,t;C().then((e=>{ae.value=!1,le.forEach(((t,o)=>{t.sub=e.filter((e=>e.category===o))}))})).catch((e=>{"网络异常"===e&&(ae.value=!0)}));const o=await Promise.allSettled([await y(),await W()]);ce.value=null==(e=o[0])?void 0:e.value,ke.value=null==(t=o[1])?void 0:t.value,N.value=ce.value[0].name,de()}(),c(N,(e=>{ke.value.map((e=>e.name)).includes(e)?U({cat:e,limit:1}).then((e=>{A.value=e.playlists[0]})).catch((e=>{"网络异常"===e&&(ae.value=!0)})):A.value=void 0})),(e,s)=>{const i=x,l=M,r=q,n=P,a=z,c=Q,C=b;return k(),d(L,null,[A.value?(k(),d("div",{key:0,class:"top-playlist flex",onClick:ue},[u("div",{class:"top-playlist-bg",style:h({backgroundImage:`url(${A.value.coverImgUrl})`})},null,4),t(i,{src:A.value.coverImgUrl},null,8,["src"]),u("div",R,[t(l,{round:""},{default:p((()=>[t(f(G),{theme:"outline"}),V("精选歌单")])),_:1}),u("p",null,v(A.value.name),1),u("span",X,v(A.value.copywriter),1)])])):w("",!0),g(u("div",Y,[t(a,{placement:"bottom-start",width:"auto",trigger:"click",effect:"dark"===f(o)?"dark":"light"},{reference:p((()=>[t(l,{round:""},{default:p((()=>[V(v(N.value),1),t(f(_),{theme:"outline"})])),_:1})])),default:p((()=>[ee,t(r),(k(!0),d(L,null,j(le,(e=>(k(),d("div",te,[u("span",{class:B(["row",`row-${e.row}`])},[(k(),H(Z(e.icon),{theme:"outline",size:"24",strokeWidth:3})),V(v(e.name),1)],2),(k(!0),d(L,null,j(e.sub,(e=>(k(),H(n,{class:B({active:e.name===N.value}),underline:!1,onClick:t=>he(e.name)},{default:p((()=>[V(v(e.name)+" ",1),e.hot?(k(),d("span",oe,"hot")):w("",!0)])),_:2},1032,["class","onClick"])))),256))])))),256))])),_:1},8,["effect"]),u("div",se,[(k(!0),d(L,null,j(ce.value,(e=>(k(),H(n,{class:B({active:e.name===N.value}),underline:!1,onClick:t=>he(e.name)},{default:p((()=>[V(v(e.name),1)])),_:2},1032,["class","onClick"])))),256))])],512),[[m,!ae.value]]),g((k(),d("div",ie,[(k(!0),d(L,null,j(re.list,(e=>(k(),H(D,{mode:"vertical","image-url":e.coverImgUrl,"play-count":e.playCount,"icon-placement":"bottom-right","icon-transition":"el-fade-in-linear",onClick:t=>f(I)(e.id)},{default:p((()=>[t(n,{underline:!1,onClick:t=>f(I)(e.id)},{default:p((()=>[V(v(e.name),1)])),_:2},1032,["onClick"])])),_:2},1032,["image-url","play-count","onClick"])))),256))])),[[C,ne.value]]),g(t(c,{small:"",background:"",layout:"prev, pager, next","page-size":re.size,"current-page":re.page,"onUpdate:current-page":s[0]||(s[0]=e=>re.page=e),total:re.total,"hide-on-single-page":re.total<re.size,onCurrentChange:pe},null,8,["page-size","current-page","total","hide-on-single-page"]),[[m,!ae.value]]),g(t(F,null,null,512),[[m,ae.value]])],64)}}}),[["__scopeId","data-v-2c91a009"]]);export{le as default};
