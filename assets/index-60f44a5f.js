import{d as e,o as a,a as s,t as l,_ as t,a2 as n,a3 as i,j as r,a0 as u,k as d,B as o,e as c,w as m,h as p,E as v,b as f,m as _,u as g,P as h,f as x,q as y,R as b,X as j,H as k,r as z,F as w,l as P,v as S,L as W,n as C,p as D}from"./index-dc3d111f.js";import{a as F,E as I}from"./el-menu-item-c50b3659.js";/* empty css                        */import{_ as q}from"./index.vue_vue_type_script_setup_true_lang-4f43fd4c.js";import{F as E}from"./FolderPlus-80526e7b.js";import{S as L}from"./Share-6726625e.js";import{D as R}from"./Download-48887c7a.js";import"./el-empty-e729f0eb.js";const T=t(e({__name:"Desc",props:{description:null},setup(e){const t=e;return(e,n)=>(a(),s("pre",null,l(t.description),1))}}),[["__scopeId","data-v-33cb4ddc"]]);const A={key:0,class:"flex",style:{margin:"20px"}},B={class:"flex-1",style:{"margin-left":"20px"}},G={class:"flex-vertical-center"},H={class:"flex",style:{margin:"15px 0"}},N={class:"flex-vertical-center flex-wrap text-14"},O={class:"flex-vertical-center text-14",style:{"margin-top":"2px"}},U={key:1},X=t(e({__name:"index",setup(e){const t=p(),X=r(t.params.id),J=r();function K(){var e;"undefined"!==X.value&&(e=Number(X.value),new Promise(((a,s)=>{n("/album","POST",{data:{id:e},needLogin:!0}).then((e=>{const{code:s,album:l,songs:t}=e;200===s?(l.songs=t,a(l)):i({message:"系统异常",type:"error",duration:1e3,center:!0})})).catch((e=>{s(e)}))}))).then((e=>{var a;J.value=e,document.title=null==(a=J.value)?void 0:a.name}))}K(),u((async e=>{X.value=e.params.id,K()}));const{push:M}=d();function Q(e=!0){J.value&&M(J.value.songs.filter((e=>!e.noCopyrightRcmd)),{replace:e,trigger:"playAll"})}const V=o(["歌曲列表","专辑详情"]),Y=r(V[0]);function Z(e){Y.value=e}return(e,t)=>{const n=W,i=C,r=D,u=F,d=I,o=v;return a(),c(o,null,{default:m((()=>[J.value?(a(),s("div",A,[f(n,{src:J.value.blurPicUrl,class:"coverImage"},null,8,["src"]),_("div",B,[_("div",G,[_("h2",null,l(J.value.name),1)]),_("div",H,[f(r,null,{default:m((()=>{var e,a;return[f(i,{type:"primary",round:"",disabled:!(null==(e=J.value)?void 0:e.songs.length),onClick:Q},{default:m((()=>[f(g(h),{theme:"filled",size:"22"}),x("播放全部")])),_:1},8,["disabled"]),f(i,{type:"primary",round:"",disabled:!(null==(a=J.value)?void 0:a.songs.length),onClick:t[0]||(t[0]=e=>Q(!1))},{default:m((()=>[f(g(y),{theme:"filled",size:"20",strokeWidth:3})])),_:1},8,["disabled"])]})),_:1}),f(i,{round:"",disabled:""},{default:m((()=>[f(g(E),{theme:"outline",size:"20",strokeWidth:2}),x("收藏 ")])),_:1}),f(i,{round:"",disabled:""},{default:m((()=>[f(g(L),{theme:"outline",size:"20",strokeWidth:2}),x("分享 ")])),_:1}),f(i,{round:"",disabled:""},{default:m((()=>[f(g(R),{theme:"outline",size:"20",strokeWidth:2}),x("下载全部 ")])),_:1})]),_("div",N,[x(" 歌手："),f(b,{artists:J.value.artists},null,8,["artists"])]),_("div",O," 时间："+l(g(j)(J.value.publishTime)),1)])])):k("",!0),f(d,{"default-active":Y.value,mode:"horizontal",onSelect:Z},{default:m((()=>[(a(!0),s(w,null,z(V,(e=>(a(),c(u,{index:e},{default:m((()=>[x(l(e),1)])),_:2},1032,["index"])))),256))])),_:1},8,["default-active"]),J.value?(a(),s("div",U,[P(f(q,{songs:J.value.songs},null,8,["songs"]),[[S,"歌曲列表"===Y.value]]),P(f(T,{description:J.value.description},null,8,["description"]),[[S,"专辑详情"===Y.value]])])):k("",!0)])),_:1})}}}),[["__scopeId","data-v-b9dd01e4"]]);export{X as default};
